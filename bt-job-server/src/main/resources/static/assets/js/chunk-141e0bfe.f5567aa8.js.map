{"version":3,"sources":["webpack:///./src/views/task/new-task.vue?f7c4","webpack:///./src/views/task/task.vue?f064","webpack:///./src/views/task/new-task.vue?69ea","webpack:///src/views/task/new-task.vue","webpack:///./src/views/task/new-task.vue?018a","webpack:///./src/views/task/new-task.vue?60bc","webpack:///src/views/task/task.vue","webpack:///./src/views/task/task.vue?720e","webpack:///./src/views/task/task.vue?9c94","webpack:///./src/views/task/task.vue?8d00"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","params","callback","$$v","$set","expression","loading","on","search","newTask","directives","name","rawName","data","slot","scopedSlots","_u","key","fn","scope","$event","taskInstance","row","pageSize","page","total","handleCurrentChange","handleSizeChange","ref","reload","staticRenderFns","visible","form","rules","staticStyle","load","cancel","confirm","taskName","des","appName","timeType","timeExpression","executeType","taskType","jobMeta","max","message","trigger","required","methods","$refs","validate","valid","then","result","$message","type","$nextTick","resetFields","$emit","catch","err","msg","response","finally","component","components","$api","getTask","current","console","log","val","task","$router","push","query","taskId","id"],"mappings":"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","file":"assets/js/chunk-141e0bfe.f5567aa8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-task.vue?vue&type=style&index=0&scope=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-header',{staticClass:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"任务管理\")])]),_c('el-container',[_c('el-header',[_c('el-row',{attrs:{\"gutter\":24,\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"label_content\"},[_c('span',[_vm._v(\"任务名\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入任务名\",\"maxlength\":\"25\",\"show-word-limit\":\"\",\"clearable\":\"\"},model:{value:(_vm.params.taskName),callback:function ($$v) {_vm.$set(_vm.params, \"taskName\", $$v)},expression:\"params.taskName\"}})],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"label_content\"},[_c('span',[_vm._v(\"服务名\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入服务名\",\"maxlength\":\"25\",\"show-word-limit\":\"\",\"clearable\":\"\"},model:{value:(_vm.params.appName),callback:function ($$v) {_vm.$set(_vm.params, \"appName\", $$v)},expression:\"params.appName\"}})],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading,\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"info\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.newTask}},[_vm._v(\"增加任务\")])],1)],1)],1),_c('el-main',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.data,\"max-height\":\"580px\",\"cell-style\":{'text-align':'center'},\"header-cell-style\":{'text-align':'center','background-color':'#f5f7fa'}}},[_c('template',{slot:\"empty\"},[_c('span',[_vm._v(\"暂无任务信息\")])]),_c('el-table-column',{attrs:{\"prop\":\"taskName\",\"label\":\"任务名\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"desc\",\"label\":\"任务描述\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"appName\",\"label\":\"服务名\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"serveHost\",\"label\":\"当前触发server\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"executeType\",\"label\":\"执行类型\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeType\",\"label\":\"触发方式\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeVal\",\"label\":\"时间表达式\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"lastTriggerTime\",\"label\":\"最后触发时间\",\"min-width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"nextTriggerTime\",\"label\":\"下次触发时间\",\"min-width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"crt\",\"label\":\"创建时间\",\"min-width\":\"150\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.taskInstance(scope.row)}}},[_vm._v(\"查看\")])]}}])})],2),_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"background\":\"\",\"page-size\":_vm.pageSize,\"page-sizes\":[10, 20, 50],\"disabled\":_vm.loading,\"current-page\":_vm.page,\"total\":_vm.total,\"layout\":\"total, sizes,prev, pager, next\"},on:{\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event}}})],1)],1)],1),_c('new-task',{ref:\"newTask\",on:{\"reload\":_vm.reload}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.visible,\"title\":\"新增任务\",\"top\":\"5vh\",\"width\":\"45%\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"任务名\",\"prop\":\"taskName\"}},[_c('el-input',{attrs:{\"maxlength\":\"25\",\"show-word-limit\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入任务名\"},model:{value:(_vm.form.taskName),callback:function ($$v) {_vm.$set(_vm.form, \"taskName\", $$v)},expression:\"form.taskName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"任务描述\",\"prop\":\"des\"}},[_c('el-input',{attrs:{\"maxlength\":\"120\",\"show-word-limit\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入任务描述\"},model:{value:(_vm.form.des),callback:function ($$v) {_vm.$set(_vm.form, \"des\", $$v)},expression:\"form.des\"}})],1),_c('el-form-item',{attrs:{\"label\":\"服务名\",\"prop\":\"appName\"}},[_c('el-input',{attrs:{\"maxlength\":\"25\",\"show-word-limit\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入服务名\"},model:{value:(_vm.form.appName),callback:function ($$v) {_vm.$set(_vm.form, \"appName\", $$v)},expression:\"form.appName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"执行类型\",\"prop\":\"timeType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.timeType),callback:function ($$v) {_vm.$set(_vm.form, \"timeType\", $$v)},expression:\"form.timeType\"}},[_c('el-option',{attrs:{\"label\":\"corn 表达式\",\"value\":\"CORN\"}}),_c('el-option',{attrs:{\"label\":\"固定频率\",\"value\":\"FIX_RATE\"}}),_c('el-option',{attrs:{\"label\":\"延时执行\",\"value\":\"DELAY\"}}),_c('el-option',{attrs:{\"label\":\"固定时间\",\"value\":\"FIX_DATE\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"执行表达式\",\"prop\":\"timeExpression\"}},[_c('el-input',{attrs:{\"maxlength\":\"25\",\"show-word-limit\":\"\",\"clearable\":\"\",\"placeholder\":\"执行表达式\"},model:{value:(_vm.form.timeExpression),callback:function ($$v) {_vm.$set(_vm.form, \"timeExpression\", $$v)},expression:\"form.timeExpression\"}}),_c('el-tooltip',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"placement\":\"top\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\" 1. 执行类型为corn，请输入corn表达式\"),_c('br'),_vm._v(\" 2. 执行类型为固定频率和延时执行，请输入毫秒数，最小1000ms\"),_c('br'),_vm._v(\" 3. 执行类型为固定时间，请输入时间类型，格式 yyyy-MM-dd HH:mm:ss \")]),_c('i',{staticClass:\"el-icon-info\"})])],1),_c('el-form-item',{attrs:{\"label\":\"任务执行类型\",\"prop\":\"executeType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.executeType),callback:function ($$v) {_vm.$set(_vm.form, \"executeType\", $$v)},expression:\"form.executeType\"}},[_c('el-option',{attrs:{\"label\":\"单机执行\",\"value\":\"SINGLE\"}}),_c('el-option',{attrs:{\"label\":\"广播执行\",\"value\":\"BROADCAST\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"任务类型\",\"prop\":\"taskType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.taskType),callback:function ($$v) {_vm.$set(_vm.form, \"taskType\", $$v)},expression:\"form.taskType\"}},[_c('el-option',{attrs:{\"label\":\"客户端\",\"value\":\"REMOTE_CLIENT\"}}),_c('el-option',{attrs:{\"label\":\"Shell脚本\",\"value\":\"SHELL\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"任务元信息\",\"prop\":\"jobMeta\"}},[_c('el-input',{attrs:{\"maxlength\":\"2000\",\"show-word-limit\":\"\",\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请填写任务信息\"},model:{value:(_vm.form.jobMeta),callback:function ($$v) {_vm.$set(_vm.form, \"jobMeta\", $$v)},expression:\"form.jobMeta\"}}),_c('el-tooltip',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"placement\":\"top\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\" 1. shell脚本执行时，请填写shell脚本信息\"),_c('br'),_vm._v(\" 2. 普通任务执行时，该项可作为任务参数\"),_c('br')]),_c('i',{staticClass:\"el-icon-info\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"info\",\"loading\":_vm.load},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.load},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-dialog :visible.sync=\"visible\" title=\"新增任务\" top=\"5vh\" width=\"45%\">\n            <el-form :model=\"form\" label-width=\"120px\" :rules=\"rules\" ref=\"form\">\n                <el-form-item label=\"任务名\" prop=\"taskName\">\n                    <el-input v-model=\"form.taskName\" maxlength=\"25\" show-word-limit clearable placeholder=\"请输入任务名\"/>\n                </el-form-item>\n                <el-form-item label=\"任务描述\" prop=\"des\">\n                    <el-input v-model=\"form.des\" maxlength=\"120\" show-word-limit clearable placeholder=\"请输入任务描述\"/>\n                </el-form-item>\n                <el-form-item label=\"服务名\" prop=\"appName\">\n                    <el-input v-model=\"form.appName\" maxlength=\"25\" show-word-limit clearable placeholder=\"请输入服务名\"/>\n                </el-form-item>\n                <el-form-item label=\"执行类型\" prop=\"timeType\">\n                    <el-select v-model=\"form.timeType\" placeholder=\"请选择\">\n                        <el-option label=\"corn 表达式\" value=\"CORN\"/>\n                        <el-option label=\"固定频率\" value=\"FIX_RATE\"/>\n                        <el-option label=\"延时执行\" value=\"DELAY\"/>\n                        <el-option label=\"固定时间\" value=\"FIX_DATE\"/>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"执行表达式\" prop=\"timeExpression\">\n                    <el-input v-model=\"form.timeExpression\" maxlength=\"25\" show-word-limit clearable placeholder=\"执行表达式\"/>\n                    <el-tooltip style=\"margin-left:20px\" placement=\"top\">\n                        <div slot=\"content\">\n                            1. 执行类型为corn，请输入corn表达式<br/>\n                            2. 执行类型为固定频率和延时执行，请输入毫秒数，最小1000ms<br/>\n                            3. 执行类型为固定时间，请输入时间类型，格式 yyyy-MM-dd HH:mm:ss\n                        </div>\n                        <i class=\"el-icon-info\"/>\n                    </el-tooltip>\n                </el-form-item>\n                <el-form-item label=\"任务执行类型\" prop=\"executeType\">\n                    <el-select v-model=\"form.executeType\" placeholder=\"请选择\">\n                        <el-option label=\"单机执行\" value=\"SINGLE\"/>\n                        <el-option label=\"广播执行\" value=\"BROADCAST\"/>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"任务类型\" prop=\"taskType\">\n                    <el-select v-model=\"form.taskType\" placeholder=\"请选择\">\n                        <el-option label=\"客户端\" value=\"REMOTE_CLIENT\"/>\n                        <el-option label=\"Shell脚本\" value=\"SHELL\"/>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"任务元信息\" prop=\"jobMeta\">\n                    <el-input v-model=\"form.jobMeta\" maxlength=\"2000\" show-word-limit type=\"textarea\" :rows=\"5\" placeholder=\"请填写任务信息\"/>\n                    <el-tooltip style=\"margin-left:20px\" placement=\"top\">\n                        <div slot=\"content\">\n                            1. shell脚本执行时，请填写shell脚本信息<br/>\n                            2. 普通任务执行时，该项可作为任务参数<br/>\n                        </div>\n                        <i class=\"el-icon-info\"/>\n                    </el-tooltip>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"info\" :loading=\"load\" @click=\"cancel\">取消</el-button>\n                    <el-button type=\"primary\" :loading=\"load\" @click=\"confirm\">确定</el-button>\n                </el-form-item>\n            </el-form>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport { addTask } from '@/http/api'\nexport default {\n    name: 'newTask',\n    data() {\n        return {\n            visible: false,\n            load: false,\n            form: {\n                taskName: '',\n                des: '',\n                appName: '',\n                timeType: '',\n                timeExpression: '',\n                executeType: '',\n                taskType: '',\n                jobMeta: ''\n            },\n            rules: {\n                taskName: [\n                    { max: 25, message: '任务名长度最大25个字符', trigger: 'blur' }\n                ],\n                des: [\n                    { required: true, message: '请输入任务描述信息', trigger: 'blur' },\n                    { max: 120, message: '任务描述长度最大120个字符', trigger: 'blur' }\n                ],\n                appName: [\n                    { required: true, message: '请输入服务名', trigger: 'blur' },\n                    { max: 25, message: '服务名长度最大25个字符', trigger: 'blur' }\n                ],\n                timeType: [\n                    { required: true, message: '请选择执行类型', trigger: 'blur' }\n                ],\n                timeExpression: [\n                    { required: true, message: '请输入执行表达式', trigger: 'blur' },\n                    { max: 25, message: '执行表达式长度最大25个字符', trigger: 'blur' }\n                ],\n                executeType: [\n                    { required: true, message: '请选择任务执行类型', trigger: 'blur' }\n                ],\n                taskType: [\n                    { required: true, message: '请选择任务类型', trigger: 'blur' }\n                ],\n                jobMeta: [\n                    { max: 2000, message: '任务元信息长度最大2000=个字符', trigger: 'blur' }\n                ]\n            }\n        }\n    },\n    methods: {\n        confirm() {\n            this.load = true;\n            this.$refs.form.validate((valid) => {\n                if (valid) {\n                    addTask(this.form).then((result) => {\n                        this.$message({\n                            message: '增加任务成功',\n                            type: 'success'\n                        });\n                        this.visible = false;\n                        this.$nextTick(() => {\n                            this.load = false\n                            this.$refs.form.resetFields();\n                            this.$emit('reload');\n                        });\n                    }).catch((err) => {\n                        var msg = err.response.data;\n                        this.$message({\n                            message: `${msg.message}`,\n                            type: 'error'\n                        });\n                    }).finally(() => {\n                        this.load = false;\n                    });\n                } else {\n                    this.load = false;\n                }\n            })\n        },\n        cancel() {\n            this.load = true;\n            this.visible = false;\n            this.$nextTick(() => {\n                this.load = false\n                this.$refs.form.resetFields();\n            });\n        }\n    }\n}\n</script>\n<style scope>\n    .el-input,.el-textarea{\n        width: 85%;\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new-task.vue?vue&type=template&id=2e3c4ba8&\"\nimport script from \"./new-task.vue?vue&type=script&lang=js&\"\nexport * from \"./new-task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./new-task.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <el-container>\n      <el-header class=\"header\">\n        <span class=\"title\">任务管理</span>\n      </el-header>\n       <el-container>\n         <el-header>\n          <el-row :gutter=\"24\" type=\"flex\">\n            <el-col :span=\"8\">\n              <div class=\"label_content\">\n                <span>任务名</span>\n                <el-input placeholder=\"请输入任务名\" v-model=\"params.taskName\" maxlength=\"25\" show-word-limit clearable/>\n              </div>\n            </el-col>\n            <el-col :span=\"8\">\n              <div class=\"label_content\">\n                <span>服务名</span>\n                <el-input placeholder=\"请输入服务名\" v-model=\"params.appName\" maxlength=\"25\" show-word-limit clearable/>\n              </div>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-button type=\"primary\" @click=\"search\" :loading=\"loading\" icon=\"el-icon-search\">查询</el-button>\n              <el-button type=\"info\" @click=\"newTask\" icon=\"el-icon-circle-plus-outline\">增加任务</el-button>\n            </el-col>\n          </el-row>\n        </el-header>\n        <el-main>\n          <el-table :data=\"data\" v-loading=\"loading\" max-height=\"580px\" :cell-style=\"{'text-align':'center'}\" :header-cell-style=\"{'text-align':'center','background-color':'#f5f7fa'}\" >\n            <template slot=\"empty\">\n              <span>暂无任务信息</span>\n            </template>\n            <el-table-column prop=\"taskName\" label=\"任务名\" min-width=\"120\" />\n            <el-table-column prop=\"desc\" label=\"任务描述\" min-width=\"120\" />\n            <el-table-column prop=\"appName\" label=\"服务名\" min-width=\"100\" />\n            <el-table-column prop=\"serveHost\" label=\"当前触发server\" min-width=\"100\" />\n            <el-table-column prop=\"executeType\" label=\"执行类型\" min-width=\"100\" />\n            <el-table-column prop=\"timeType\" label=\"触发方式\" min-width=\"100\" />\n            <el-table-column prop=\"timeVal\" label=\"时间表达式\" min-width=\"100\" />\n            <el-table-column prop=\"lastTriggerTime\" label=\"最后触发时间\" min-width=\"150\" />\n            <el-table-column prop=\"nextTriggerTime\" label=\"下次触发时间\" min-width=\"150\" />\n            <el-table-column prop=\"crt\" label=\"创建时间\" min-width=\"150\" />\n            <el-table-column fixed=\"right\" label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"text\" size=\"mini\" @click=\"taskInstance(scope.row)\">查看</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-pagination :hide-on-single-page=\"true\"  background :page-size.sync=\"pageSize\"\n          @current-change=\"handleCurrentChange\"\n          @size-change=\"handleSizeChange\"\n          :page-sizes=\"[10, 20, 50]\"\n          :disabled=\"loading\"\n          :current-page.sync=\"page\" :total=\"total\" layout=\"total, sizes,prev, pager, next\"/>\n        </el-main>\n       </el-container>\n    </el-container>\n    <new-task ref=\"newTask\" @reload=\"reload\"/>\n  </div>\n</template>\n\n<style scope>\n .label_content{\n   width: 80px;\n   display: flex;\n   width: 100%;\n   align-items: center;\n }\n .label_content>span{\n   flex: 1;\n   text-align: right;\n   margin-right: 10px;\n }\n .label_content .el-input{\n   flex: 3.5;\n }\n</style>\n\n<script>\nimport newTask from './new-task.vue';\nexport default {\n  components: { newTask },\n  data() {\n    return {\n      params: {},\n      data: [],\n      loading: false,\n      page: 0,\n      pageSize: 10,\n      total: 0\n    }\n  },\n  mounted () {\n    this.search();\n  },\n  methods: {\n    search () {\n      this.loading = true;\n      this.$api.getTask({ ...this.params, current: this.page - 1, pageSize: this.pageSize }).then((result) => {\n        this.total = result.data.total;\n        this.data = result.data.data;\n      }).catch((err) => {\n        console.log(err)\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    reload () {\n      this.page = 1;\n      this.search();\n    },\n    handleCurrentChange(val) {\n      this.search();\n    },\n    handleSizeChange (val) {\n      this.page = 0;\n      this.search();\n    },\n    taskInstance (task) {\n      this.$router.push({ name: 'task-instance', query: { taskId: task.id } })\n    },\n    newTask() {\n      this.$refs.newTask.visible = true\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./task.vue?vue&type=template&id=6762b71c&\"\nimport script from \"./task.vue?vue&type=script&lang=js&\"\nexport * from \"./task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./task.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task.vue?vue&type=style&index=0&scope=true&lang=css&\""],"sourceRoot":""}