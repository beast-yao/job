(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f787eafa"],{"4a98":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("任务执行记录")])]),a("el-container",[a("el-header",[a("el-row",{attrs:{gutter:24,type:"flex"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"label_content"},[a("span",[e._v("任务名")]),a("el-input",{attrs:{placeholder:"请输入任务名",maxlength:"25","show-word-limit":"",clearable:""},model:{value:e.params.taskName,callback:function(t){e.$set(e.params,"taskName",t)},expression:"params.taskName"}})],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"label_content"},[a("span",[e._v("服务名")]),a("el-input",{attrs:{placeholder:"请输入服务名",maxlength:"25","show-word-limit":"",clearable:""},model:{value:e.params.appName,callback:function(t){e.$set(e.params,"appName",t)},expression:"params.appName"}})],1)]),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"primary",loading:e.loading,icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,"max-height":"580px","cell-style":{"text-align":"center"},"header-cell-style":{"text-align":"center","background-color":"#f5f7fa"}}},[a("template",{slot:"empty"},[a("span",[e._v("暂无任务信息")])]),a("el-table-column",{attrs:{prop:"taskName",label:"任务名","min-width":"120"}}),a("el-table-column",{attrs:{prop:"des",label:"任务描述","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.des,placement:"bottom"}},[a("p",[e._v(e._s(t.row.des))])])]}}])}),a("el-table-column",{attrs:{prop:"appName",label:"服务名","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serveHost",label:"当前触发server","min-width":"100"}}),a("el-table-column",{attrs:{prop:"executeType",label:"执行类型","min-width":"100"}}),a("el-table-column",{attrs:{prop:"timeType",label:"触发方式","min-width":"100"}}),a("el-table-column",{attrs:{prop:"timeVal",label:"时间表达式","min-width":"100"}}),a("el-table-column",{attrs:{prop:"executeStatue",label:"执行状态","min-width":"100"}}),a("el-table-column",{attrs:{prop:"taskType",label:"任务类型","min-width":"100"}}),a("el-table-column",{attrs:{prop:"exceptTriggerTime",label:"期望触发时间","min-width":"150"}}),a("el-table-column",{attrs:{prop:"triggerTime",label:"实际触发时间","min-width":"150"}}),a("el-table-column",{attrs:{prop:"executeEndTime",label:"执行结束时间","min-width":"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.showLogView(t.row)}}},[e._v("查看日志")])]}}])})],2),a("el-pagination",{attrs:{"hide-on-single-page":!0,background:"","page-size":e.pageSize,"page-sizes":[10,20,50],disabled:e.loading,"current-page":e.page,total:e.total,layout:"total, sizes,prev, pager, next"},on:{"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],1)],1),a("Log",{attrs:{instanceId:e.instanceId,visable:e.showLog}})],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.visable},on:{"update:visible":function(t){e.visable=t}}},[e._v(" "+e._s(e.instanceId)+" ")])],1)},i=[],r={props:{instanceId:{require:!0,type:String},visable:{require:!0,type:Boolean,default:!1}}},o=r,p=a("2877"),c=Object(p["a"])(o,s,i,!1,null,null,null),d=c.exports,u={data(){return{params:{},data:[],loading:!1,page:1,pageSize:10,total:0,instanceId:"",showLog:!1}},components:{Log:d},mounted(){this.search()},watch:{$route(){this.page=1,this.pageSize=10,this.search()}},methods:{search(){this.loading=!0,this.$api.getTaskInstance({...this.params,current:this.page-1,pageSize:this.pageSize,taskId:this.$route.query.taskId}).then(e=>{this.total=e.data.total,this.data=e.data.data}).catch(e=>{console.log(e)}).finally(()=>{this.loading=!1})},reload(){this.page=1,this.search()},handleCurrentChange(e){this.search()},handleSizeChange(e){this.page=0,this.search()},showLogView(e){console.table(e),this.instanceId=e.instanceId,this.showLog=!0}}},h=u,m=(a("bb29"),Object(p["a"])(h,l,n,!1,null,null,null));t["default"]=m.exports},bb29:function(e,t,a){"use strict";a("c558")},c558:function(e,t,a){}}]);
//# sourceMappingURL=chunk-f787eafa.b045172d.js.map